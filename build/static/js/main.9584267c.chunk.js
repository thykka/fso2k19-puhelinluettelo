(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(11),i=t.n(o),c=t(12),u=t(2),s=t(3),l=t.n(s),m="/api/persons",f=function(){return l.a.get(m).then(function(e){return e.data})},d=function(e){return l.a.post(m,e).then(function(e){return e.data})},p=function(e){return l.a.delete("".concat(m,"/").concat(e)).then(function(e){return e.data})},v=function(e,n){return l.a.put("".concat(m,"/").concat(e),n).then(function(e){return e.data})},E=function(e){var n=e.notification;if(!n||!n.hasOwnProperty("message"))return null;var t=n.type||"error";return n.error&&(n.message+="; "+n.error.toString()),a.a.createElement("div",{className:"notification notification--".concat(t)},n.message)},b={error:1e4,confirm:5e3},h=function(e){var n=e.addPerson,t=Object(r.useState)(""),o=Object(u.a)(t,2),i=o[0],c=o[1],s=Object(r.useState)(""),l=Object(u.a)(s,2),m=l[0],f=l[1];return a.a.createElement("form",{className:"contacts__new",onSubmit:function(e){e.preventDefault(),n(i,m),c(""),f("")}},a.a.createElement("h3",null,"Lis\xe4\xe4 yhteystieto"),a.a.createElement("div",{className:"form-control"},"Nimi:",a.a.createElement("br",null),a.a.createElement("input",{value:i,onChange:function(e){c(e.currentTarget.value)}})),a.a.createElement("div",{className:"form-control"},"Numero:",a.a.createElement("br",null),a.a.createElement("input",{value:m,onChange:function(e){f(e.currentTarget.value)}})),a.a.createElement("div",{className:"form-control"},a.a.createElement("button",{type:"submit"},"Lis\xe4\xe4")))},y=function(e){var n=e.filter,t=e.setFilter;return a.a.createElement("div",null,"Rajaa:",a.a.createElement("br",null),a.a.createElement("input",{value:n,onChange:function(e){t(e.currentTarget.value)}}))},g=function(e){var n=e.persons,t=e.removePerson;return a.a.createElement("ul",null,n.map(function(e){return a.a.createElement(O,{key:e.id,person:e,removePerson:function(){return t(e.id)}})}))},O=function(e){var n=e.person,t=e.removePerson;return a.a.createElement("li",{"data-id":n.id},a.a.createElement("button",{onClick:t},"X"),n.name," \u2014 ",n.number)},j=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],i=Object(r.useState)(),s=Object(u.a)(i,2),l=s[0],m=s[1],O=function(){return m(null)};Object(r.useEffect)(function(){f().then(function(e){return o(e)})},[]);var j=Object(r.useState)(""),w=Object(u.a)(j,2),k=w[0],N=w[1],P=t.filter(function(e){return e.name.toLowerCase().indexOf(k.toLowerCase())>=0||e.number.indexOf(k)>=0}),S=function(e){m(e),setTimeout(O,b[e.type])},C=function(e){return function(n){var t="undefined"!==typeof n.response&&"undefined"!==typeof n.response.data&&"string"===typeof n.response.data.error?n.response.data.error:JSON.stringify(n);S({message:e,type:"error",error:t})}};return a.a.createElement("section",{className:"contacts"},a.a.createElement("h1",null,"Puhelinluettelo"),a.a.createElement(E,{notification:l}),a.a.createElement(h,{addPerson:function(e,n){var r=t.find(function(t){return t.name===e||t.number===n});r&&window.confirm("".concat(e," on jo luettelossa, korvataanko tiedot?"))?v(r.id,{name:e,number:n}).then(function(e){o(t.map(function(n){return n.id===r.id?e:n})),S({message:"Yhteystieto p\xe4ivitetty: "+e.name,type:"confirm"})}).catch(C("Henkil\xf6n p\xe4ivitys ep\xe4onnistui")):d({name:e,number:n}).then(function(e){o([].concat(Object(c.a)(t),[e])),S({message:"Henkil\xf6 lis\xe4tty: "+e.name,type:"confirm"})}).catch(C("Henkil\xf6n lis\xe4ys ep\xe4onnistui"))}}),a.a.createElement("h3",null,"Numerot"),a.a.createElement(y,{filter:k,setFilter:N}),a.a.createElement(g,{persons:P,removePerson:function(e){var n=t.find(function(n){return n.id===e});n&&window.confirm("Poistetaan henkil\xf6 "+n.name+"?")&&p(e).then(function(){o(t.filter(function(n){return n.id!==e})),S({message:"Henkil\xf6 poistettu: "+n.name,type:"confirm"})}).catch(C("Henkil\xf6n poisto ep\xe4onnistui"))}}))};t(38);i.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.9584267c.chunk.js.map